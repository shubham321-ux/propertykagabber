import{r as x,j as e,d as f,M as k,N as y}from"./index-C2V87Yha.js";import{M as N}from"./Modal-DzRDSQ0M.js";function L(){const[l,b]=x.useState(null),[j,c]=x.useState(!1),[s,o]=x.useState({phone:[""],email:[""],address:[""],socialLinks:[{platform:"",url:""}],youtube:"",mapLink:"",aboutText:"",workingHours:""}),m=async()=>{try{const t=await f();t?.contact&&(b(t.contact),o({phone:t.contact.phone?.length?t.contact.phone:[""],email:t.contact.email?.length?t.contact.email:[""],address:t.contact.address?.length?t.contact.address:[""],socialLinks:t.contact.socialLinks?.length>0?t.contact.socialLinks:[{platform:"",url:""}],youtube:t.contact.youtube||"",mapLink:t.contact.mapLink||"",aboutText:t.contact.aboutText||"",workingHours:t.contact.workingHours||""}))}catch(t){console.error("Error loading contact:",t)}};x.useEffect(()=>{m()},[]);const p=(t,a,n,r)=>{const u=[...s[r]];u[t]=n,o({...s,[r]:u})},d=(t,a)=>{o({...s,[t]:[...s[t],a]})},i=(t,a)=>{const n=s[t].filter((r,u)=>u!==a);o({...s,[t]:n.length?n:[""]})},h=(t,a,n)=>{const r=[...s.socialLinks];r[t][a]=n,o({...s,socialLinks:r})},g=async t=>{t.preventDefault();try{const a={...s};l?._id?await k(a):await y(a),await m(),c(!1)}catch(a){console.error("Error saving contact:",a)}};return e.jsxs("div",{className:"max-w-[1200px] mx-auto p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"ðŸ“ž Manage Contact Info"}),e.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:l?"Edit Contact":"âž• Add Contact"})]}),l?e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 space-y-2 sm:space-y-3 text-sm sm:text-base",children:[e.jsxs("p",{children:[e.jsx("b",{children:"ðŸ“ž Phone:"})," ",l.phone?.join(", ")||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"ðŸ“§ Email:"})," ",l.email?.join(", ")||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"ðŸ  Address:"})," ",l.address?.join(", ")||"N/A"]}),e.jsx("p",{children:e.jsx("b",{children:"ðŸ”— Social Links:"})}),e.jsx("ul",{className:"list-disc ml-6",children:l.socialLinks?.map((t,a)=>e.jsxs("li",{children:[e.jsxs("b",{children:[t.platform,":"]})," ",e.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:t.url})]},a))}),e.jsxs("p",{children:[e.jsx("b",{children:"ðŸ“º YouTube:"})," ",l.youtube||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"ðŸ—ºï¸ Map Link:"})," ",l.mapLink||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"â„¹ï¸ About Text:"})," ",l.aboutText||"N/A"]}),e.jsxs("p",{children:[e.jsx("b",{children:"ðŸ•’ Working Hours:"})," ",l.workingHours||"N/A"]})]}):e.jsx("p",{className:"text-gray-500",children:"No contact info found. Please add one."}),e.jsx(N,{open:j,onClose:()=>c(!1),title:"Edit Contact Info",children:e.jsxs("form",{onSubmit:g,className:"space-y-3 max-h-[80vh] overflow-y-auto p-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Phone Numbers"}),s.phone.map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:t,onChange:n=>p(a,"phone",n.target.value,"phone"),className:"flex-1 border rounded px-3 py-2",placeholder:"Enter phone number"}),s.phone.length>1&&e.jsx("button",{type:"button",onClick:()=>i("phone",a),className:"text-red-600 font-bold",children:"âœ•"})]},a)),e.jsx("button",{type:"button",onClick:()=>d("phone",""),className:"text-blue-600 text-sm",children:"+ Add another phone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Emails"}),s.email.map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"email",value:t,onChange:n=>p(a,"email",n.target.value,"email"),className:"flex-1 border rounded px-3 py-2",placeholder:"Enter email"}),s.email.length>1&&e.jsx("button",{type:"button",onClick:()=>i("email",a),className:"text-red-600 font-bold",children:"âœ•"})]},a)),e.jsx("button",{type:"button",onClick:()=>d("email",""),className:"text-blue-600 text-sm",children:"+ Add another email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Addresses"}),s.address.map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("textarea",{value:t,onChange:n=>p(a,"address",n.target.value,"address"),className:"flex-1 border rounded px-3 py-2",placeholder:"Enter address"}),s.address.length>1&&e.jsx("button",{type:"button",onClick:()=>i("address",a),className:"text-red-600 font-bold",children:"âœ•"})]},a)),e.jsx("button",{type:"button",onClick:()=>d("address",""),className:"text-blue-600 text-sm",children:"+ Add another address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold block mb-1",children:"Social Links"}),s.socialLinks.map((t,a)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:t.platform,onChange:n=>h(a,"platform",n.target.value),placeholder:"Platform (e.g., Facebook)",className:"border rounded px-3 py-2 flex-1"}),e.jsx("input",{type:"text",value:t.url,onChange:n=>h(a,"url",n.target.value),placeholder:"URL",className:"border rounded px-3 py-2 flex-1"}),s.socialLinks.length>1&&e.jsx("button",{type:"button",onClick:()=>i("socialLinks",a),className:"text-red-600 font-bold",children:"âœ•"})]},a)),e.jsx("button",{type:"button",onClick:()=>d("socialLinks",{platform:"",url:""}),className:"text-blue-600 text-sm",children:"+ Add another social link"})]}),e.jsx("input",{type:"text",name:"youtube",value:s.youtube,onChange:t=>o({...s,youtube:t.target.value}),placeholder:"YouTube Link",className:"w-full border rounded px-3 py-2"}),e.jsx("input",{type:"text",name:"mapLink",value:s.mapLink,onChange:t=>o({...s,mapLink:t.target.value}),placeholder:"Google Map Link",className:"w-full border rounded px-3 py-2"}),e.jsx("textarea",{name:"aboutText",value:s.aboutText,onChange:t=>o({...s,aboutText:t.target.value}),placeholder:"Short About Text",className:"w-full border rounded px-3 py-2"}),e.jsx("input",{type:"text",name:"workingHours",value:s.workingHours,onChange:t=>o({...s,workingHours:t.target.value}),placeholder:"Working Hours (e.g. Monâ€“Sat 9AMâ€“7PM)",className:"w-full border rounded px-3 py-2"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Save"})]})]})})]})}export{L as default};
