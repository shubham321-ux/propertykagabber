import{r as o,j as e,H as f}from"./index-B8BtoGsn.js";function y({onSuccess:d}){const[r,p]=o.useState({title:"",description:"",price:"",location:""}),[i,m]=o.useState([]),[s,u]=o.useState(null),[n,x]=o.useState(""),l=t=>{p({...r,[t.target.name]:t.target.value})},h=async t=>{t.preventDefault();const a=new FormData;a.append("title",r.title),a.append("description",r.description),a.append("price",r.price),a.append("location",r.location),i.forEach(c=>a.append("images",c)),s&&a.append("video",s);try{await f(a),x("✅ Property created successfully!"),p({title:"",description:"",price:"",location:""}),m([]),u(null),d&&d()}catch(c){console.error(c),x("❌ Error creating property")}};return e.jsxs("div",{className:"max-w-[800px] mx-auto bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Add New Property"}),n&&e.jsx("p",{className:`mb-4 ${n.startsWith("✅")?"text-green-600":"text-red-600"}`,children:n}),e.jsxs("form",{onSubmit:h,encType:"multipart/form-data",className:"space-y-4",children:[e.jsx("input",{type:"text",name:"title",placeholder:"Property Title",value:r.title,onChange:l,required:!0,className:"w-full border rounded px-3 py-2"}),e.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,rows:4,className:"w-full border rounded px-3 py-2"}),e.jsx("input",{type:"number",name:"price",placeholder:"Price",value:r.price,onChange:l,required:!0,className:"w-full border rounded px-3 py-2"}),e.jsx("input",{type:"text",name:"location",placeholder:"Location",value:r.location,onChange:l,className:"w-full border rounded px-3 py-2"}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Images"}),e.jsx("input",{type:"file",multiple:!0,onChange:t=>m(Array.from(t.target.files)),className:"w-full"}),i.length>0&&e.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:i.map((t,a)=>e.jsx("img",{src:URL.createObjectURL(t),alt:"Preview",className:"w-24 h-20 object-cover rounded-md border"},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Video"}),e.jsx("input",{type:"file",accept:"video/*",onChange:t=>u(t.target.files[0]),className:"w-full"}),s&&e.jsx("div",{className:"mt-2",children:e.jsx("video",{src:URL.createObjectURL(s),controls:!0,className:"w-full rounded-md"})})]}),e.jsx("button",{type:"submit",className:"bg-primary text-white px-6 py-2 rounded hover:bg-primary-light transition",children:"➕ Add Property"})]})]})}export{y as default};
